% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/linkage-programs-clients.R
\name{linkage_programs_clients}
\alias{linkage_programs_clients}
\title{Link programs to subsidy clients}
\usage{
linkage_programs_clients(program_obj, clients_obj, verbose = TRUE)
}
\arguments{
\item{program_obj}{A program-module S3 object (e.g.,
\code{alccdf_program_unified}, \code{alccdf_program_deduped},
\code{alccdf_program_clean}) containing \code{provider_id}}

\item{clients_obj}{A subsidy-module S3 object with \code{subsidy_type =
"clients"} (e.g., \code{alccdf_subsidy_clean})}

\item{verbose}{Logical; print progress messages? Default TRUE.}
}
\value{
An \code{alccdf_linked_programs_clients} S3 object with:
\describe{
\item{data}{Program-level tibble with client aggregates appended}
\item{meta}{Metadata including linkage key, match statistics}
\item{diagnostics}{Unmatched programs, unmatched client records}
}
}
\description{
Performs a LEFT JOIN of subsidy client data onto program data by
\code{provider_id}, preserving all program rows. Computes per-program
aggregates: number of active clients, average weekly copayment, and number
of unique cases.
}
\details{
The linkage pipeline:
\enumerate{
\item Extract data from both objects
\item Aggregate client data to the program (provider_id) level
\item LEFT JOIN aggregated clients onto programs by provider_id
\item Compute match diagnostics
\item Build S3 object
}

Programs without any active clients receive \code{0} for count columns
and \code{NA} for average copay.
}
\examples{
\dontrun{
linked <- linkage_programs_clients(program_obj, clients_obj)
alccdf_data(linked)
linked$diagnostics$unmatched_clients
}

}
