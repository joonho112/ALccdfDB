% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/db-core.R
\name{db_query}
\alias{db_query}
\title{Execute arbitrary SQL query}
\usage{
db_query(conn, sql, verbose = TRUE)
}
\arguments{
\item{conn}{A DBI connection object from \code{\link{db_init}}.}

\item{sql}{Character. SQL query string.}

\item{verbose}{Logical; print progress messages? Default TRUE.}
}
\value{
A tibble with the query results.
}
\description{
Executes a SQL query and returns the result as a tibble. Useful for custom
aggregation, filtering, and analysis directly in the database.
}
\examples{
\dontrun{
conn <- db_init("output/alccdfdb.duckdb", read_only = TRUE)
result <- db_query(conn, "
  SELECT snapshot_date, COUNT(*) as n
  FROM programs
  GROUP BY snapshot_date
  ORDER BY snapshot_date
")
db_close(conn)
}

}
