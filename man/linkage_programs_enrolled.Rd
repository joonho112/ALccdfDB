% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/linkage-programs-enrolled.R
\name{linkage_programs_enrolled}
\alias{linkage_programs_enrolled}
\title{Link programs to subsidy enrolled children}
\usage{
linkage_programs_enrolled(program_obj, enrolled_obj, verbose = TRUE)
}
\arguments{
\item{program_obj}{A program-module S3 object (e.g.,
\code{alccdf_program_unified}, \code{alccdf_program_deduped},
\code{alccdf_program_clean}) containing \code{facility_id}}

\item{enrolled_obj}{A subsidy-module S3 object with \code{subsidy_type =
"enrolled"} (e.g., \code{alccdf_subsidy_clean})}

\item{verbose}{Logical; print progress messages? Default TRUE.}
}
\value{
An \code{alccdf_linked_programs_enrolled} S3 object with:
\describe{
\item{data}{Program-level tibble with enrollment aggregates appended}
\item{meta}{Metadata including linkage key, match statistics}
\item{diagnostics}{Unmatched programs, unmatched enrolled records}
}
}
\description{
Performs a LEFT JOIN of subsidy enrolled children data onto program data by
\code{facility_id}, preserving all program rows. Computes per-program
aggregates: number of enrolled children, number of cases, and care level
distribution.
}
\details{
The linkage pipeline:
\enumerate{
\item Extract data from both objects
\item Aggregate enrolled data to the program (facility_id) level
\item LEFT JOIN aggregated enrollment onto programs by facility_id
\item Compute match diagnostics
\item Build S3 object
}

Programs without any enrolled children receive \code{NA} for enrollment
columns. All 2,193 programs (or however many exist) are preserved.
}
\examples{
\dontrun{
linked <- linkage_programs_enrolled(program_obj, enrolled_obj)
alccdf_data(linked)
linked$diagnostics$unmatched_programs
}

}
