<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting Started with ALccdfDB • ALccdfDB</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started with ALccdfDB">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ALccdfDB</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/joonho112/ALccdfDB" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Getting Started with ALccdfDB</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/joonho112/ALccdfDB/blob/HEAD/vignettes/getting-started.Rmd" class="external-link"><code>vignettes/getting-started.Rmd</code></a></small>
      <div class="d-none name"><code>getting-started.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p>ALccdfDB is a modular R package for processing, cleaning, validating,
and managing Alabama CCDF (Child Care and Development Fund)
administrative data received from the Alabama Department of Human
Resources (DHR).</p>
<p>The package ingests heterogeneous Excel reports covering licensed
childcare centers, family and group homes, faith-based exempt
facilities, license-excepted programs, subsidy enrollment and client
records, Alabama Pathways staff registry data, and Melissa.com geocoding
results. Each data source follows its own format, and ALccdfDB provides
data-driven column mappings that adapt automatically.</p>
<p>The complete processing pipeline transforms raw files into
analysis-ready, linked, and geocoded panel datasets:</p>
<pre><code>DHR Excel Files           Processing Pipeline               Output
-------------------       ----------------------------      ------------------
Licensed Centers    --&gt;   Read   --&gt;  Clean   --&gt;  Validate
Family/Group Homes  --&gt;   (S3 obj)   (S3 obj)    (S3 obj)
Faith-Based Exempt  --&gt;                  |
License Excepted    --&gt;            Append Types              Analysis-ready
                                         |                   tibbles
Subsidy (Enrolled)  --&gt;            Deduplicate
Subsidy (Clients)   --&gt;                  |                   CSV / Excel /
                                     Melissa  --&gt;  Linkage   Stata / Parquet
Staff Pathways      --&gt;            (Geocode)   (Cross-module)
                                                     |
Melissa Geocoding   --&gt;                          Export / Database
                                                 (DuckDB snapshots)</code></pre>
<div class="section level3">
<h3 id="package-modules">Package Modules<a class="anchor" aria-label="anchor" href="#package-modules"></a>
</h3>
<table class="table">
<colgroup>
<col width="47%">
<col width="52%">
</colgroup>
<thead><tr class="header">
<th>Module</th>
<th>Purpose</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>Program</strong></td>
<td>Licensed childcare facility data (4 types: Center, Family Home,
Group Home, Faith-Based/Excepted), cleaning, tier recoding, derived
variables</td>
</tr>
<tr class="even">
<td><strong>Subsidy</strong></td>
<td>Enrolled children and client household records, PII separation</td>
</tr>
<tr class="odd">
<td><strong>Staff</strong></td>
<td>Alabama Pathways staff registry, career lattice levels</td>
</tr>
<tr class="even">
<td><strong>Melissa</strong></td>
<td>Melissa.com geocoding integration (lat/lng, census tract, FIPS)</td>
</tr>
<tr class="odd">
<td><strong>Linkage</strong></td>
<td>Cross-module joins (programs x enrolled, clients, staff)</td>
</tr>
<tr class="even">
<td><strong>Database</strong></td>
<td>DuckDB persistent storage with snapshot management</td>
</tr>
<tr class="odd">
<td><strong>Utils</strong></td>
<td>Shared helpers, export functions (CSV, Excel, Stata, Parquet,
RDS)</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"joonho112/ALccdfDB"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://joonho112.github.io/ALccdfDB/">ALccdfDB</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quick-start-with-synthetic-data">Quick Start with Synthetic Data<a class="anchor" aria-label="anchor" href="#quick-start-with-synthetic-data"></a>
</h2>
<p>ALccdfDB includes synthetic data generators that produce realistic
datasets without requiring access to confidential DHR files. All
generators share the same facility pool when called with the same seed,
enabling cross-module linkage.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Generate synthetic data for all three primary modules</span></span>
<span><span class="va">programs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synthetic-data.html">alccdf_synthetic_programs</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">50</span>, seed <span class="op">=</span> <span class="fl">42</span><span class="op">)</span></span>
<span><span class="va">subsidy</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synthetic-data.html">alccdf_synthetic_subsidy</a></span><span class="op">(</span>n_enrolled <span class="op">=</span> <span class="fl">80</span>, n_clients <span class="op">=</span> <span class="fl">40</span>, seed <span class="op">=</span> <span class="fl">42</span><span class="op">)</span></span>
<span><span class="va">staff</span>    <span class="op">&lt;-</span> <span class="fu"><a href="../reference/synthetic-data.html">alccdf_synthetic_staff</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">60</span>, seed <span class="op">=</span> <span class="fl">42</span><span class="op">)</span></span></code></pre></div>
<p>The S3 print method shows a compact summary of each object:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">programs</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">ALccdfDB Program Data (Clean)</span> ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Type: synthetic</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Snapshot: 2026-02-15</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Dimensions: 50 rows x 51 cols</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Raw rows: 50</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Columns: facility_id, facility_name, facility_type_raw, facility_type, facility_tier, county, region, facility_address, facility_address2, provider_id, license_number, day_start, day_end, night_start, night_end, day_capacity, night_capacity, has_day_capacity, has_night_capacity, total_capacity, night_to_day_ratio, day_age_range, day_age_min, day_age_max, day_age_range_num, day_age_infants_toddlers, day_age_preschool, day_age_school_aged, night_age_range, night_age_min, night_age_max, day_operating_hours, night_operating_hours, operation_type, expiration_date, current_date, days_till_expire, facility_tier_original, was_originally_rated, is_high_quality, tier_weight_linear, tier_weight_binary, tier_weight_exp, capacity_qa_linear, capacity_qa_binary, capacity_qa_exp, capacity_flag, snapshot_date, phone_number, director_name, consultant</span></span></code></pre></div>
<p>Extract the underlying data tibble with <code><a href="../reference/alccdf_data.html">alccdf_data()</a></code>
and inspect key columns:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="../reference/alccdf_data.html">alccdf_data</a></span><span class="op">(</span><span class="va">programs</span><span class="op">)</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"facility_id"</span>, <span class="st">"facility_name"</span>,</span>
<span>                                <span class="st">"facility_type"</span>, <span class="st">"facility_tier"</span>,</span>
<span>                                <span class="st">"county"</span>, <span class="st">"day_capacity"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 6</span></span></span>
<span><span class="co">#&gt;   facility_id facility_name      facility_type facility_tier county day_capacity</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;ord&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> FX001       JSU Child Learnin… Excepted (Un… <span style="color: #BB0000;">NA</span>            St. C…           39</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> FX002       Gadsden State Chi… Excepted (Un… <span style="color: #BB0000;">NA</span>            Morgan           42</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> FC001       Jubilee Child Car… Center        Star 3        Jeffe…          119</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> FG001       Lakeside Group Ho… Group Home    Star 4        Calho…            7</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> FE001       New Hope Church D… Faith-Based   <span style="color: #BB0000;">NA</span>            DeKalb           55</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> FE002       Emmanuel Lutheran… Faith-Based   <span style="color: #BB0000;">NA</span>            Elmore           40</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="facility-type-distribution">Facility Type Distribution<a class="anchor" aria-label="anchor" href="#facility-type-distribution"></a>
</h2>
<p>Alabama CCDF data covers five facility types. The synthetic data
mirrors the approximate real-world distribution across centers, family
homes, group homes, faith-based, and excepted facilities.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: package 'ggplot2' was built under R version 4.5.2</span></span>
<span></span>
<span><span class="va">prog_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/alccdf_data.html">alccdf_data</a></span><span class="op">(</span><span class="va">programs</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">prog_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">facility_type</span>, fill <span class="op">=</span> <span class="va">facility_type</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Facility Type Distribution"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"Synthetic program data (n = 50)"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Facility Type"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Count"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span></span>
<span>    axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">30</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>    legend.position <span class="op">=</span> <span class="st">"none"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="getting-started_files/figure-html/facility-type-plot-1.png" class="r-plt" width="672"></p>
</div>
<div class="section level2">
<h2 id="quality-ratings">Quality Ratings<a class="anchor" aria-label="anchor" href="#quality-ratings"></a>
</h2>
<p>Licensed facilities in Alabama receive a quality tier rating from
Star 1 (lowest) to Star 5 (highest). Faith-Based and Excepted facilities
are not rated and have <code>NA</code> tiers.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">prog_df</span><span class="op">$</span><span class="va">facility_tier</span>, useNA <span class="op">=</span> <span class="st">"ifany"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Star 1 Star 2 Star 3 Star 4 Star 5   &lt;NA&gt; </span></span>
<span><span class="co">#&gt;      2      4      7      8      6     23</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Filter to rated facilities only</span></span>
<span><span class="va">rated_df</span> <span class="op">&lt;-</span> <span class="va">prog_df</span><span class="op">[</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">prog_df</span><span class="op">$</span><span class="va">facility_tier</span><span class="op">)</span>, <span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">rated_df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">facility_tier</span>, fill <span class="op">=</span> <span class="va">facility_tier</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html" class="external-link">geom_bar</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span></span>
<span>    values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Star 1"</span> <span class="op">=</span> <span class="st">"#d73027"</span>, <span class="st">"Star 2"</span> <span class="op">=</span> <span class="st">"#fc8d59"</span>,</span>
<span>               <span class="st">"Star 3"</span> <span class="op">=</span> <span class="st">"#fee08b"</span>, <span class="st">"Star 4"</span> <span class="op">=</span> <span class="st">"#91cf60"</span>,</span>
<span>               <span class="st">"Star 5"</span> <span class="op">=</span> <span class="st">"#1a9850"</span><span class="op">)</span>,</span>
<span>    name <span class="op">=</span> <span class="st">"Quality Tier"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"Quality Tier Distribution (Rated Facilities)"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"Star 1 (lowest) to Star 5 (highest)"</span>,</span>
<span>    x <span class="op">=</span> <span class="st">"Facility Tier"</span>,</span>
<span>    y <span class="op">=</span> <span class="st">"Count"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="getting-started_files/figure-html/tier-plot-1.png" class="r-plt" width="672"></p>
</div>
<div class="section level2">
<h2 id="summary-statistics">Summary Statistics<a class="anchor" aria-label="anchor" href="#summary-statistics"></a>
</h2>
<p>The <code><a href="../reference/program_summary_stats.html">program_summary_stats()</a></code> function computes a
comprehensive set of summary tables from any program-module S3
object:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/program_summary_stats.html">program_summary_stats</a></span><span class="op">(</span><span class="va">programs</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>Overview of the dataset:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stats</span><span class="op">$</span><span class="va">overview</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 5</span></span></span>
<span><span class="co">#&gt;   n_facilities n_columns n_types n_counties snapshot_date</span></span>
<span><span class="co">#&gt;          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>           50        51       5         23 2026-02-15</span></span></code></pre></div>
<p>Capacity distribution across day and night operations:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stats</span><span class="op">$</span><span class="va">capacity</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 10</span></span></span>
<span><span class="co">#&gt;   variable       n_valid  n_na  mean median    sd   min   max   q25   q75</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> day_capacity        50     0  60.4   53.5  51.1     4   193  20.5  76.2</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> night_capacity      50     0   0.6    0     3       0    19   0     0</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="codebook-system">Codebook System<a class="anchor" aria-label="anchor" href="#codebook-system"></a>
</h2>
<p>ALccdfDB uses internally defined factor levels for categorical
variables, ensuring consistency across cleaning, validation, and export.
Use the codebook functions to inspect the canonical levels:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/alccdf_facility_type_levels.html">alccdf_facility_type_levels</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Center"                      "Family Home"                </span></span>
<span><span class="co">#&gt; [3] "Group Home"                  "Faith-Based"                </span></span>
<span><span class="co">#&gt; [5] "Excepted (University/Other)"</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/alccdf_facility_tier_levels.html">alccdf_facility_tier_levels</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Star 1" "Star 2" "Star 3" "Star 4" "Star 5"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="real-data-processing-pipeline">Real Data Processing Pipeline<a class="anchor" aria-label="anchor" href="#real-data-processing-pipeline"></a>
</h2>
<p>With actual DHR Excel files, the processing workflow follows a
structured configure-read-clean-validate-append-deduplicate
pipeline:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># 1. Configure paths and snapshot date</span></span>
<span><span class="va">cfg</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/program_config.html">program_config</a></span><span class="op">(</span></span>
<span>  snapshot_date <span class="op">=</span> <span class="st">"2025-06-11"</span>,</span>
<span>  center_path   <span class="op">=</span> <span class="st">"data/Centers_06_11_25.xlsx"</span>,</span>
<span>  home_path     <span class="op">=</span> <span class="st">"data/FamilyGroupHomes_06_11_25.xlsx"</span>,</span>
<span>  exempt_path   <span class="op">=</span> <span class="st">"data/FaithBasedExempt_06_11_25.xlsx"</span>,</span>
<span>  excepted_path <span class="op">=</span> <span class="st">"data/LicenseExcepted_06_11_25.xlsx"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 2. Read each type (auto-detects format version and column mapping)</span></span>
<span><span class="va">raw_center</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/program_read.html">program_read</a></span><span class="op">(</span><span class="va">cfg</span><span class="op">$</span><span class="va">paths</span><span class="op">$</span><span class="va">center</span>,  type <span class="op">=</span> <span class="st">"center"</span>,</span>
<span>                            snapshot_date <span class="op">=</span> <span class="va">cfg</span><span class="op">$</span><span class="va">snapshot_date</span><span class="op">)</span></span>
<span><span class="va">raw_home</span>    <span class="op">&lt;-</span> <span class="fu"><a href="../reference/program_read.html">program_read</a></span><span class="op">(</span><span class="va">cfg</span><span class="op">$</span><span class="va">paths</span><span class="op">$</span><span class="va">home</span>,    type <span class="op">=</span> <span class="st">"family_home"</span>,</span>
<span>                            snapshot_date <span class="op">=</span> <span class="va">cfg</span><span class="op">$</span><span class="va">snapshot_date</span><span class="op">)</span></span>
<span><span class="va">raw_exempt</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/program_read.html">program_read</a></span><span class="op">(</span><span class="va">cfg</span><span class="op">$</span><span class="va">paths</span><span class="op">$</span><span class="va">exempt</span>,  type <span class="op">=</span> <span class="st">"exempt"</span>,</span>
<span>                            snapshot_date <span class="op">=</span> <span class="va">cfg</span><span class="op">$</span><span class="va">snapshot_date</span><span class="op">)</span></span>
<span><span class="va">raw_excepted</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/program_read.html">program_read</a></span><span class="op">(</span><span class="va">cfg</span><span class="op">$</span><span class="va">paths</span><span class="op">$</span><span class="va">excepted</span>, type <span class="op">=</span> <span class="st">"excepted"</span>,</span>
<span>                             snapshot_date <span class="op">=</span> <span class="va">cfg</span><span class="op">$</span><span class="va">snapshot_date</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 3. Clean (standardises addresses, dates, capacity, tiers, factors)</span></span>
<span><span class="va">clean_center</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/program_clean.html">program_clean</a></span><span class="op">(</span><span class="va">raw_center</span><span class="op">)</span></span>
<span><span class="va">clean_home</span>    <span class="op">&lt;-</span> <span class="fu"><a href="../reference/program_clean.html">program_clean</a></span><span class="op">(</span><span class="va">raw_home</span><span class="op">)</span></span>
<span><span class="va">clean_exempt</span>  <span class="op">&lt;-</span> <span class="fu"><a href="../reference/program_clean.html">program_clean</a></span><span class="op">(</span><span class="va">raw_exempt</span><span class="op">)</span></span>
<span><span class="va">clean_excepted</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/program_clean.html">program_clean</a></span><span class="op">(</span><span class="va">raw_excepted</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 4. Validate each type</span></span>
<span><span class="fu"><a href="../reference/program_validate.html">program_validate</a></span><span class="op">(</span><span class="va">clean_center</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/program_validate.html">program_validate</a></span><span class="op">(</span><span class="va">clean_home</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 5. Append all types into a unified dataset</span></span>
<span><span class="va">unified</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/program_append_types.html">program_append_types</a></span><span class="op">(</span><span class="va">clean_center</span>, <span class="va">clean_home</span>,</span>
<span>                                <span class="va">clean_exempt</span>, <span class="va">clean_excepted</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 6. Deduplicate by facility_id</span></span>
<span><span class="va">deduped</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/program_deduplicate.html">program_deduplicate</a></span><span class="op">(</span><span class="va">unified</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="validation">Validation<a class="anchor" aria-label="anchor" href="#validation"></a>
</h2>
<p>Every module includes a validation step that runs quality checks
against the cleaned data. The program validator performs 10 checks
covering required columns, duplicates, capacity, county names, dates,
operating hours, age ranges, addresses, tiers, and snapshot dates.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">validation</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/program_validate.html">program_validate</a></span><span class="op">(</span><span class="va">programs</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="va">validation</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">ALccdfDB Validation Report: program</span> ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Status: ✔ PASSED</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Snapshot: 2026-02-15</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Checks: 10 total</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Warnings: 1</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> Info: 1</span></span>
<span><span class="co">#&gt; ✔ [PASS] All required columns present</span></span>
<span><span class="co">#&gt; ✔ [PASS] No duplicate facility IDs</span></span>
<span><span class="co">#&gt; ⚠ [WARN] Non-positive capacity values found (48 issues)</span></span>
<span><span class="co">#&gt; ✔ [PASS] County: 23 unique values (factor)</span></span>
<span><span class="co">#&gt; ✔ [PASS] Expiration dates within expected range</span></span>
<span><span class="co">#&gt; ✔ [PASS] Operating hours within 0-24 range</span></span>
<span><span class="co">#&gt; ℹ [INFO] Age range columns not present (skipped)</span></span>
<span><span class="co">#&gt; ✔ [PASS] All facility addresses present</span></span>
<span><span class="co">#&gt; ✔ [PASS] Facility tiers valid (Star 1-5 or NA)</span></span>
<span><span class="co">#&gt; ✔ [PASS] Snapshot date present on all rows</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="next-steps">Next Steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h2>
<p>This vignette covered the basics of generating synthetic data,
inspecting program records, and understanding the processing pipeline.
For more advanced workflows, see:</p>
<ul>
<li>
<code><a href="../articles/full-pipeline.html">vignette("full-pipeline")</a></code> for the complete multi-source
processing workflow including subsidy, staff, and Melissa geocoding
modules</li>
<li>
<code><a href="../articles/data-linkage.html">vignette("data-linkage")</a></code> for cross-module linkage
(programs x enrolled, clients, staff) and DuckDB database
integration</li>
</ul>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://orcid.org/0009-0006-4019-8703" class="external-link">JoonHo Lee</a>, Alison Hooper.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
